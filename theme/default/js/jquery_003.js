/*
** sudyTpl for javascript template
 */
!function(a){a.fn.sudyTpl=function(b){var c={p:null,json:null,callback:function(){}},d=a.extend(!0,{},c,b);return this.each(function(){var b=a(this),c=a('[type="text/template"]',b),e=[];if(null!==d.json?e=d.json:null!==d.p&&(e=getImgJson(d.p)),e.length>0){var f=c.get(0).text,g=f.match(/<!--LoopBegin-->[\s\S]*?<!--LoopEnd-->/gi),h=[];return a.each(g,function(b,c){c=c.replace(/<!--[\s\S]*?-->/g,""),h[b]="",a.each(e,function(){h[b]+=c.replace(/\[%title%\]/g,this.title).replace(/(\/page\/main\d+\/|\/_upload[\s\S]*?\/template\d+\/)?\[%url%\]/g,this.url).replace(/(\/page\/main\d+\/|\/_upload[\s\S]*?\/template\d+\/)?\[%src%\]/g,this.src).replace(/\[%text%\]/g,this.text)}),f=f.replace(/<!--LoopBegin-->[\s\S]*?<!--LoopEnd-->/i,h[b])}),f=a.trim(f.replace(/([\s|\t]*\r*)/g,"")),b.html(f),d.callback(b)}})}}(jQuery);

/*
sudyTouch for support touch
 */
!function(a){a.fn.sudyTouch=function(b){return this.each(function(){a(this).width(),a(this).height(),a(this).on("touchstart",function(c){var d=c.originalEvent.touches[0],e=Number(new Date),f=a(this).position();return a.data(this,"touchstart",{posX:d.pageX,posY:d.pageY,timer:e,startX:f.left,startY:f.top}),b.swipeStart&&b.swipeStart.call(this,f.left,f.top),c.stopPropagation()}).on("touchmove",function(c){var d=c.originalEvent.touches[0],e=Number(new Date),f=d.pageX-a.data(this,"touchstart").posX,g=d.pageY-a.data(this,"touchstart").posY;return deltaT=e-a.data(this,"touchstart").timer,a.data(this,"touchmove",{posX:d.pageX,posY:d.pageY,timer:e}),b.swipeMove&&(c.preventDefault(),b.swipeMove.call(this,f,g,deltaT)),(b.swipeRight||b.swipeLeft)&&Math.abs(f)>Math.abs(g)&&c.preventDefault(),(b.swipeTop||b.swipeBottom)&&Math.abs(g)>Math.abs(f)&&c.preventDefault(),c.stopPropagation()}).on("touchend",function(){var c=Number(new Date),d=a.data(this,"touchmove").posX-a.data(this,"touchstart").posX,f=a.data(this,"touchmove").posY-a.data(this,"touchstart").posY,g=c-a.data(this,"touchstart").timer;a.data(this,"touchend",{posX:a.data(this,"touchmove").posX,posY:a.data(this,"touchmove").posY,timer:c});var h=Math.atan2(-f,d);return(Math.abs(d)>30||Math.abs(f)>30)&&200>g&&(Math.abs(h)<Math.PI/4&&b.swipeRight&&b.swipeRight.call(this,d,f,g),Math.abs(h)>3*Math.PI/4&&b.swipeLeft&&b.swipeLeft.call(this,d,f,g),Math.PI/4<h&&h<3*Math.PI/4&&b.swipeTop&&b.swipeTop.call(this,d,f,g),3*-Math.PI/4<h&&h<-Math.PI/4&&b.swipeBottom&&b.swipeBottom.call(this,d,f,g)),b.swipeEnd&&b.swipeEnd.call(this,d,f,g),e.stopPropagation()})})}}(jQuery);

/*
** sudyfocus
 */
(function(d){d.fn.sudyfocus=function(t){function u(q){d.each(q,function(h,q){if("img_meta"in a.json[h]&&!d.isEmptyObject(a.json[h].img_meta)){var s=d(q).find("img").eq(0),b=a.json[h].img_meta.focusWidth,f=a.json[h].img_meta.focusHeight,l=b/f,i=a.json[h].img_meta.realWidth,e=a.json[h].img_meta.realHeight,g=i/e,n=a.json[h].img_meta.left,o=a.json[h].img_meta.top,l=n,j=o,n=2*l+b<i?0:2*l+b-i,o=2*j+f<e?0:2*j+f-e,b=0==n?b+2*l:i-n,f=0==o?f+2*j:e-o,l=b/f;l<w?(j=m/b,i*=j,e=i/g,b=m,f=b/l):(j=p/f,e*=j,i=e*g,
f=p,b=f*l);s.css({display:"block",width:i+"px",height:e+"px",position:"absolute",left:m/2-(j*n+b/2)+"px",top:p/2-(j*o+f/2)+"px"})}})}var a=d.extend(!0,{},{p:null,json:[],title:{active:!0,isAutoWidth:!1,href:!1},text:{active:!1,isAutoHeight:!1,href:!1},href:!0,zWidth:420,zHeight:270,response:!0,navigation:!0,isNavHover:!0,pagination:!1,effect:"slide",speed:500,crossfade:!0,start:1,autoPlay:!0,interval:5E3},t),m=a.zWidth,p=a.zHeight,w=m/p;null!==a.p&&"function"==eval("typeof getImgJson")&&(a.json=getImgJson(a.p).concat(a.json));
return this.each(function(){function q(){b.css({width:m+"px",height:p+"px"}).addClass("focus-box");i.css({width:m+"px",height:p+"px",visibility:"visible"})}function h(){n.hide();o.hide();a.effect=="slide"?x.slide():a.effect=="fade"?x.fade():x.show();A.removeClass("focus-page-active").eq(c).addClass("focus-page-active");var b=d.trim(a.json[c].title||""),r=d.trim(a.json[c].text||"");$url=d.trim(a.json[c].url||"");if($url!==""&&$url!=="#"){var f=d('<a href="'+$url+'" target="_blank"></a>');a.href&&e.eq(c).find("a").length<
1&&e.eq(c).wrapInner(f);a.title.href&&b!==""&&(b=f.clone().html(b));a.text.href&&r!==""&&(r=f.clone().html(r))}if(b!==""){n.show();y.html(b)}if(r!==""){o.show();z.html(r)}a.title.isAutoWidth&&y.parent().css("width",y.outerWidth());a.text.isAutoHeight&&z.parent().parent().css("height",z.outerHeight());k=c}function v(){c++;c>g-1&&(c=0);h()}function s(){c--;c<0&&(c=g-1);h()}var b=d(this),f=b.children(),l=[];d.each(f,function(a,b){var c={};c.title=d(b).attr("data-focus-title")||"";c.url=d(b).attr("data-focus-url")||
"";c.text=d(b).attr("data-focus-text")||"";l.push(c)});b.html(function(b,c){d.each(a.json,function(){c=c+('<img src="'+this.src+'">')});return c});a.json=l.concat(a.json);if(a.json.length<1)return b.html("sudyfocus error: Not Found Data!");b.children().wrap('<div class="focus-item">').end().wrapInner('<div class="focus-container">');var i=d(".focus-container",b),e=d(".focus-item",i).hide(),g=e.length;a.title.active&&d('<div class="focus-title-bar"><div class="focus-title-bg"></div><h2 class="focus-title"></h2></div>').appendTo(b);
a.text.active&&d('<div class="focus-text-box"><div class="focus-text-bg"></div><div class="focus-text-inner"><p class="focus-text"></p></div></div>').appendTo(b);a.navigation&&g>1&&d('<a class="focus-navigation focus-prev">&lt;</a><a class="focus-navigation focus-next">&gt;</a>').appendTo(b);a.pagination&&g>1&&b.append(function(){var a,b,c=d('<div class="focus-pagination"></div>');for(a=0;a<g;a++){b=a+1;c.append('<a class="focus-page focus-page-'+b+'"><span>'+b+"</span></a>")}return c});var n=d(".focus-title-bar",
b),o=d(".focus-text-box",b),j=d(".focus-navigation",b),f=d(".focus-pagination",b),A=d(".focus-page",f),y=d(".focus-title",n),z=d(".focus-text",o);if(a.isNavHover){j.hide();b.hover(function(){j.show()},function(){j.hide()})}q();u(e);if(a.response){var B=b.parent().width();m=B;p=m/w;q();u(e);d(window).resize(function(){m=B=b.parent().width();p=m/w;q();u(e)})}var c=a.start>g?g-1:a.start-1,k=c,x={show:function(){e.eq(k).hide().end().eq(c).show()},slide:function(){e.eq(k).show().end().eq(c).show();if(g>
1){var b=function(){e.eq(c).css({left:"100%"});e.eq(k).stop(true,true).animate({left:"-100%"},a.speed);e.eq(c).stop(true,false).animate({left:"0%"},a.speed)},d=function(){e.eq(c).css({left:"-100%"});e.eq(k).stop(true,true).animate({left:"100%"},a.speed);e.eq(c).stop(true,false).animate({left:"0%"},a.speed)};if(k==0&&c==g-1||k==g-1&&c==0){k==0&&c==g-1&&d();k==g-1&&c==0&&b()}else{c>k&&b();c<k&&d()}}},fade:function(){a.crossfade?e.eq(k).stop().fadeOut(a.speed).end().eq(c).fadeIn(a.speed):e.eq(k).stop().hide().end().eq(c).fadeIn(a.speed)}};
if(a.autoPlay){var C;b.hover(function(){clearInterval(C)},function(){C=setInterval(function(){v()},a.interval)}).trigger("mouseleave")}var f=d(".focus-prev",b),t=d(".focus-next",b);f.click(function(){s()});t.click(function(){v()});A.click(function(){c=d(this).index();h()});d.fn.sudyTouch&&i.sudyTouch({swipeStart:function(){b.trigger("mouseenter")},swipeLeft:function(){v()},swipeRight:function(){s()},swipeEnd:function(){b.trigger("mouseleave")}});h()})}})(jQuery);

/*
** other extends
 */
!function(a){a.fn.sudySelect=function(b){var c={handle:".select-name",selects:".select-list",trigger:"click",effect:"slide",speed:100,dir:"down",autoWidth:!0},d=a.extend(!0,{},c,b);return this.each(function(){function g(){"slide"==d.effect?e.stop(!0,!0).slideDown(d.speed):"fade"==d.effect?e.stop(!0,!0).fadeIn(d.speed):$vp.show()}function h(){"slide"==d.effect?e.stop(!0,!1).slideUp(d.speed):"fade"==d.effect?e.stop(!0,!1).fadeOut(d.speed):e.hide()}var b=a(this),c=a(this).find(d.handle),e=a(this).find(d.selects),f=c.outerHeight();d.autoWidth&&e.children().css({"padding-left":c.css("padding-left"),"padding-right":c.css("padding-right")}),"down"==d.dir?(b.addClass("select-down"),e.css({top:f+"px",bottom:"auto"})):"up"==d.dir&&(b.addClass("select-up"),e.css({bottom:f+"px",top:"auto"})),c.on(d.trigger,function(){"click"==d.trigger?(c.toggleClass("select-open"),c.hasClass("select-open")?g():h()):(c.addClass("select-open"),g()),e.children().removeClass("hover")}),b.on("mouseleave",function(){c.removeClass("select-open"),h()}),e.children().mouseenter(function(){a(this).addClass("hover").siblings().removeClass("hover")}),e.children().on("click",function(){c.text(a(this).text()),a(this).addClass("selected").siblings().removeClass("selected"),c.removeClass("select-open"),h()}).eq(0).trigger("click")})},a.fn.sudyPubdate=function(b){function e(a){var b=a;switch(a){case 1:b="\u4e00\u6708";break;case 2:b="\u4e8c\u6708";break;case 3:b="\u4e09\u6708";break;case 4:b="\u56db\u6708";break;case 5:b="\u4e94\u6708";break;case 6:b="\u516d\u6708";break;case 7:b="\u4e03\u6708";break;case 8:b="\u516b\u6708";break;case 9:b="\u4e5d\u6708";break;case 10:b="\u5341\u6708";break;case 11:b="\u5341\u4e00\u6708";break;case 12:b="\u5341\u4e8c\u6708"}return b}function f(a){var b=a;switch(a){case 1:b="Jan";break;case 2:b="Feb";break;case 3:b="Mar";break;case 4:b="Apr";break;case 5:b="May";break;case 6:b="Jun";break;case 7:b="Jul";break;case 8:b="Aug";break;case 9:b="Sep";break;case 10:b="Oct";case 11:b="Nov";break;case 12:b="Dec"}return b}var c={target:".pubdate",lang:"num",separator:"-",format:"\u5e74\u6708\u65e5",prefix_0:!0,tpl:'<div class="sudy-pubdate"><span class="pubdate-month">%m%\u6708</span><span class="pubdate-day">%d%</span></div>'},d=a.extend(!0,{},c,b);return this.each(function(){var c=(a(this),a(this).find(d.target)),g=a.trim(c.text()).split(d.separator),h=parseInt(g[d.format.indexOf("\u5e74")],10),i=parseInt(g[d.format.indexOf("\u6708")],10),j=parseInt(g[d.format.indexOf("\u65e5")],10);"en"==d.lang&&(i=f(i)),"cn"==d.lang&&(i=e(i)),"num"==d.lang&&d.prefix_0&&(i=10>i?"0"+i:i,j=10>j?"0"+j:j);var k=d.tpl.replace("%Y%",h).replace("%m%",i).replace("%d%",j);c.html(k)})},a.fn.sudyTab=function(b){var c={handle:".tab-menu > li",content:".tab-list > li,.tab-more > li",trigger:"mouseenter",start:1,autoPlay:{active:!1,interval:4e3,pauseHover:!0}},d=a.extend(!0,{},c,b);return this.each(function(){var b=a(this),c=a(this).find(d.handle),e=d.content.split(","),f=d.start-1,g=c.length,h=f;if(a.each(c,function(f,g){a(g).on(d.trigger,function(){h=f,c.removeClass("selected"),a(this).addClass("selected"),a.each(e,function(c,d){a(d,b).removeClass("active").hide(),a(d,b).eq(f).addClass("active").show()})})}),d.autoPlay.active){var i,h,j=function(a){c.eq(a).trigger(d.trigger),i=setTimeout(function(){a++,a>g-1&&(a=0),j(a)},d.autoPlay.interval)};j(f),b.hover(function(){clearTimeout(i)},function(){j(h)})}else c.eq(f).trigger(d.trigger)})},a.fn.sudyInput=function(b){var c={tip:".tip"},d=a.extend(!0,{},c,b);return this.each(function(){function f(){var a=e.val();a!==c.text()&&""!==a?c.hide():(c.show(),e.val(""))}var b=a(this),c=a(this).find(d.tip),e=a(this).find("input,textarea");b.click(function(){e.trigger("focus")}),e.focus(function(){c.hide()}),e.blur(function(){f()})})},a.fn.sudyClock=function(b){var c={format:"%Y%\u5e74%M%\u6708%D%\u65e5 %N% %H%:%m%:%s% %W% \u8ddd\u79bb100\u5468\u5e74\u56fd\u5e86\u8fd8\u6709 %CD% \u5929",hour12:!1,noon:"cn",week:"cn",countDown:"2049/10/1"},d=a.extend(!0,{},c,b),e=function(a){var b=parseInt(a);return 10>b&&(b="0"+b),b},f=function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,f=a.getDate(),g=a.getHours(),h=a.getMinutes(),i=a.getSeconds(),j="cn"==d.week?["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"][a.getDay()]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()],k="cn"==d.noon?["\u4e0a\u5348","\u4e0b\u5348"][12>g?0:1]:["AM","PM"][12>g?0:1],l=0;return g=d.hour12&&g>12?g-12:g,l=Math.ceil((Date.parse(d.countDown)-a.getTime())/864e5),{Y:b,M:e(c),D:e(f),H:e(g),m:e(h),s:e(i),W:j,N:k,C:l}};return this.each(function(){function e(){c=d.format.replace("%Y%",f().Y).replace("%M%",f().M).replace("%D%",f().D).replace("%H%",f().H).replace("%m%",f().m).replace("%s%",f().s).replace("%W%",f().W).replace("%N%",f().N).replace("%CD%",f().C),b.html(c),setTimeout(function(){e()},500)}var c,b=a(this);e()})},a.fn.sudyLinks=function(b){var c={handle:".links-name",wrap:".links-wrap",trigger:"mouseenter",effect:"show",speed:300,hidePause:0,type:"elink",width:"block",position:!0},d=a.extend(!0,{},c,b);return this.each(function(){var h,b=a(this),c=a(this).find(d.handle),e=a(this).find(d.wrap),f=c.outerHeight(),i=e.outerHeight(),f=e.css("bottom");"block"==d.width&&(b.css("display","block"),c.css("display","block")),/\d+/.test(d.width)&&(b.css("width",d.width),c.css("display","block")),"elink"==d.type&&e.css("width",b.width()-2),b.on(d.trigger,function(){var g=b.offset().top,j=a(window).scrollTop(),k=g-j;i>k?e.css({bottom:"auto",top:f}):e.css({top:"auto",bottom:f}),clearTimeout(h),d.position&&b.css("position","relative"),c.addClass("wrap-open"),"slide"==d.effect?e.stop(!0,!0).hide().slideDown(d.speed):"fade"==d.effect?e.stop(!0,!0).hide().fadeIn(d.speed):e.show()}),b.mouseleave(function(){h=setTimeout(function(){d.position&&b.css("position","static"),c.removeClass("wrap-open"),"slide"==d.effect?e.stop(!0,!0).slideUp(d.speed):"fade"==d.effect?e.stop(!0,!0).fadeOut(d.speed):e.hide()},d.hidePause)})})},a.fn.sudyScroll=function(b){var c={width:200,height:100,display:2,step:2,dir:"y",auto:!0,speed:500,hoverPause:5e3,navigation:!0,navTrigger:"click",pagination:!0,pagTrigger:"mouseenter"},d=a.extend(!0,{},c,b);return this.each(function(){function n(){a(".page-index",l).eq(i).addClass("active").siblings().removeClass("active")}function o(){"x"==d.dir?(j=-i*d.step*d.width,b.stop().animate({left:j+"px"},d.speed)):(k=-i*d.step*d.height,b.stop().animate({top:k+"px"},d.speed)),n()}function p(){i++,i>h-1&&(i=0),o(i)}function q(){i--,0>i&&(i=h-1),o(i)}a(this).wrap('<div class="sudy-scroll-wrap">');var b=a(this),c=a(this).children(),e=c.length,f=a(this).parent(),g="scroll-"+Number(new Date),h=Math.ceil(e/d.step),i=0,j=0,k=0;d.step=d.step>d.display?d.display:d.step,f.wrap('<div class="sudy-scroll" id="'+g+'">');var l=a(this).parent().parent();if("x"==d.dir?(l.css({width:d.width*d.display+"px",height:d.height+"px"}),f.css({width:d.width*d.display+"px",height:d.height+"px"}),b.css({width:d.width*e+"px",height:d.height+"px",position:"absolute",left:"0px",top:"0px"}),c.css({width:d.width+"px",height:d.height+"px","float":"left",display:"inline-block"})):(l.css({width:d.width+"px",height:d.height*d.display+"px"}),f.css({width:d.width+"px",height:d.height*d.display+"px"}),b.css({width:d.width+"px",position:"absolute",left:"0px",top:"0px"}),c.css({width:d.width+"px",height:d.height+"px"})),d.navigation&&l.append('<div class="sudy-scroll-nav"><a href="javascript:;" class="nav-prev">&lt;</a><a href="javascript:;" class="nav-next">&gt;</a></div>'),d.pagination){var m='<div class="sudy-scroll-page">';a.each(new Array(h),function(a){m=m+'<a class="page-index page-'+a+'" href="javascript:;"><span>'+a+"</span></a>"}),l.append(m)}if(o(i),d.auto){var r;l.hover(function(){clearTimeout(r)},function(){r=setTimeout(function(){p(),l.trigger("mouseleave")},d.hoverPause)}).trigger("mouseleave")}a(".nav-next",l).on(d.navTrigger,function(){p()}),a(".nav-prev",l).on(d.navTrigger,function(){q()}),a(".page-index",l).on(d.pagTrigger,function(){i=a(this).index(),o(i)})})}}(jQuery);